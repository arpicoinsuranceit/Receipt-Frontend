<div [hidden]="!loading" class="loader">
  <h5>Loading...</h5>
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
<div [ngClass]="{'disabled': loading == true }" class="container" fxLayout="row" fxLayout.sm="column" fxLayout.xs="column"
  fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="center">
  <div fxFlex="100%">
    <mat-card class="main-card sk-style-mat-card ">

      <mat-card-header style=" display: flex; 
      justify-content: space-between; margin-top: -23px; margin-left: -13px;">
        <mat-card-title>
          <h3>AGENT INQUIRY</h3>
          <table *ngIf="!hideData">
            <tr>
              <th >Agent Code </th>
              <th >: {{agentInquiryDetails.Code}}</th>
              <th > / </th>
              <th style="text-align: right;">Agent Name </th>
              <th style="text-align: right;">: {{agentInquiryDetails.SName}}</th>
            </tr>
          </table>
        </mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <mat-horizontal-stepper [linear]="isLinear" #stepper>
          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;">
                  <ng-template matStepLabel>Find</ng-template>

                  <div fxFlex="100%" style="margin-bottom: 10px;" [ngClass]="{'disabled': loading1 == true}">
                    <div [hidden]="!loading1" class="loader">
                      <h5>Loading...</h5>
                      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                    </div>
                    <div>
                      <form [formGroup]="form_search">
                        <mat-radio-group formControlName="equality">
                          <mat-radio-button color="primary" labelPosition="before" value="equal" style="padding-right: 5px;">Equal</mat-radio-button>
                          <mat-radio-button color="primary" labelPosition="before" value="with" style="padding-right: 15px;">With</mat-radio-button>
                        </mat-radio-group>
    
                        <mat-form-field style="padding-right: 15px;">
                          <mat-select formControlName="column" placeholder="Type">
                            <mat-option value="agncod">Agent Code</mat-option>
                            <mat-option value="agnnam">Agent Name </mat-option>
                            <mat-option value="agnnic">Agent Nic </mat-option>
                            <mat-option value="agnsta">Agent Status </mat-option>
                            <mat-option value="sliirg">SLII No </mat-option>
                            <mat-option value="supvid">Sup. Code </mat-option>
                            <mat-option value="subdcd">Designation </mat-option>
                            <mat-option value="agndob">DOB </mat-option>
                            <mat-option value="agnrdt">App. Date </mat-option>
                          </mat-select>
                        </mat-form-field>
    
                        <mat-form-field>
                          <input matInput formControlName="data" placeholder="Search">
                        </mat-form-field>
                        <button mat-raised-button color="primary" (click)="getAgentToViewCount()">Search</button>
                      </form>
    
                    </div>
                    
                    <mat-table [dataSource]="datasourceAgent" class="mat-elevation-z8" style="padding-bottom: 20px;padding-left: 20px;padding-right: 20px;max-height: 310px;overflow-x: auto;">
                      <ng-container matColumnDef="agncod">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 5%;"> Agn. Code </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 5%;"> {{element.agncod}} </mat-cell>
                      </ng-container>


                      <ng-container matColumnDef="agnnam">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 20%;"> Agn. Name </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 20%;"> {{element.agnnam}} </mat-cell>
                      </ng-container>


                      <ng-container matColumnDef="agnnic">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Agn. Nic </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.agnnic}} </mat-cell>
                      </ng-container>


                      <ng-container matColumnDef="agnsta">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> Status </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.agnsta}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="sliirg">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> SLII No </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.sliirg}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="supvid">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> Sup. Code </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.supvid}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="subdcd">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> Designation </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.subdcd}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="agndob">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> DOB </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.agndob | date : 'dd-MM-yyyy'}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="agnrdt">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> App. Date </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.agnrdt | date : 'dd-MM-yyyy'}} </mat-cell>
                      </ng-container>

                      <mat-header-row *matHeaderRowDef="displayColumnAgent; sticky: true"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayColumnAgent;" (dblclick)="loadData(row)"></mat-row>
                    </mat-table>

                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                              justify-content: space-between;">
                  <mat-paginator [pageSizeOptions]="[5, 10, 25 , 50, 100]" (page)="loadNextData();"
                    showFirstLastButtons></mat-paginator>

                  <button mat-raised-button matStepperNext matTooltip="Go to Details " color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>
          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Details</ng-template>

                  <div fxFlex="100%" fxLayout="row" fxLayout.sm="column" fxLayout.xs="column"
                  fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="center" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                  <div fxFlex="50%">
                    <table>
                      <tr>
                        <th style="text-align: left;width: 30%;">Agent Code</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Code}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Branch Code</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Branch}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Branch Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.BranchName}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Region</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Region}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Zone</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Zone}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Title</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Title}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">First Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.FName}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Middle Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.MName}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Last Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.LName}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Short Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.SName}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Status</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Status}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Gender</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Sex}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Date of Resign</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Code}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Remarks</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Remarks}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Grants Status</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.GrantStatus}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">ORC Remark</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.OrcRem}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Designation</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Designation}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Appointment Date</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.AppoinmentDate}}</th>
                      </tr>
                    </table>

                  </div>  
                 
                  <div fxFlex="50%">
                    <table>
                      <tr>
                        <th style="text-align: left;width: 30%;">Supervised By</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Supervisor}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Supervisor Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Supervisor}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Print Name</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.AppoinmentDate}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Misappropriate</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Misappropiate}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Misapp.Remark</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.MissappRem}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Agent Nature</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.AgnNat}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Nic No</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Nic}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Epf No</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Epf}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">SLII REG No</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.SliiRegNo}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Remark</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Remark}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Maritial Status</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.CivlStatus}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Date Of Birth</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Dob}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">ORC Status</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.OcrStatus}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Type</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Type}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Sub Designation</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.SubDesignation}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Entered By</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.EnteredBy}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Approved By</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ApprovedBy}}</th>
                      </tr>
                    </table>
                  </div>
 
                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                              justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Find" color="warn" style="margin-top: 10px;">Back</button>

                  <button mat-raised-button matStepperNext matTooltip="Go to Contact Person" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>
          </mat-step>

          <mat-step >
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Contact<br> Person</ng-template>
 
                  <div fxFlex="100%" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                  
                    <table>
                      <tr>
                        <th style="text-align: left;width: 30%;">Contact Person</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactPerson}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">TEL. Office</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactTelOffice}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Telex</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactTelx}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">TEL. Residence</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactTelRecidence}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Fax</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactFax}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Mobile</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactMobile}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">E-mail</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.ContactEMail}}</th>
                      </tr>
                    </table>

                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                              justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Details" color="warn" style="margin-top: 10px;">Back</button>

                  <button mat-raised-button matStepperNext matTooltip="Go to Address Details" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>

          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 380px;overflow-x: auto;">
                  <ng-template matStepLabel>Address<br>Details</ng-template>
                  <div fxFlex="100%" style="margin-bottom: 10px;max-height: 430px;overflow-x: auto;">
                    <table>
                      <tr>
                        <th style="text-align: left;width: 30%;">Address 1</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Address1}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Address 2</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Address2}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">City</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.City}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">TEL. Office</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.TelOffice}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Telex</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.TelX}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">TEL. Residence</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.TelRecidence}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Fax</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Fax}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Mobile</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Mobile}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">E-mail</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Email}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Website</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.Web}}</th>
                      </tr>
                      <tr>
                        <th style="text-align: left;width: 30%;">Effective Date</th>
                        <th style="text-align: left;">: {{agentInquiryDetails.EfficenciveDate}}</th>
                      </tr>
                    </table>

                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                              justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Contact Person" color="warn" style="margin-top: 10px;">Back</button>

                  <button mat-raised-button matStepperNext matTooltip="Go to Settlement Details" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>

          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Settlement<br> Details</ng-template>
                  <div fxFlex="100%" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                    <mat-table [dataSource]="datasourceSettlement" class="mat-elevation-z8" style="padding: 20px;">
                      <ng-container matColumnDef="type">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 5%;"> Type </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 5%;"> {{element.type}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="bank">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 20%;"> Bank </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 20%;"> {{element.bank}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="branch">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Branch </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.branch}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="account">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 25%;"> Account </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 25%;"> {{element.account}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="fromDate">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> From Date </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.fromDate | date : 'dd-MM-yyyy'}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="toDate">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> To Date </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.toDate | date : 'dd-MM-yyyy'}} </mat-cell>
                      </ng-container>

                      <mat-header-row *matHeaderRowDef="displayColumnSettlement"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayColumnSettlement;"></mat-row>
                    </mat-table>

                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                              justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Address Details" color="warn" style="margin-top: 10px;">Back</button>
                  <button mat-raised-button matStepperNext matTooltip="Go to Targets" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>

          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Targets</ng-template>
                  <div fxFlex="100%" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                    <mat-table [dataSource]="datasourceTarget" class="mat-elevation-z8" style="padding: 20px;">
                      <ng-container matColumnDef="month">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Month </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.month}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="targetAmount">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 20%;"> Target Amount </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 20%;"> {{element.targetAmount}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="premium">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Premium </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.premium}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="orRate">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> OR Rate </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.orRate}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="cfAmount">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> C/F Amount </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.cfAmount}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="achAmount">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Ach. Amount </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.achAmount}} </mat-cell>
                      </ng-container>

                      <mat-header-row *matHeaderRowDef="displayColumnTarget;sticky:true;"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayColumnTarget;"></mat-row>
                    </mat-table>

                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                            justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Settlement Details" color="warn" style="margin-top: 10px;">Back</button>
                  <button mat-raised-button matStepperNext matTooltip="Go to Hierarchy" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>
          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Hierarchy</ng-template>
                  <div fxFlex="100%" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                    <mat-tab-group>
                      <mat-tab label="Hierarchy Transfer">
                        <mat-table [dataSource]="datasourceHierarchy" class="mat-elevation-z8" style="padding: 20px;">
                          <ng-container matColumnDef="masterSalesC">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Master Sales C </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.masterSalesC}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="name">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 40%;"> Name </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 40%;"> {{element.name}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="cls">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Class </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.cls}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="from">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> From </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.from}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="to">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> To </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.to}} </mat-cell>
                          </ng-container>
    
                          <mat-header-row *matHeaderRowDef="displayColumnHierarchy"></mat-header-row>
                          <mat-row *matRowDef="let row; columns: displayColumnHierarchy;"></mat-row>
                        </mat-table>
    
                      </mat-tab>
                      <mat-tab label="Designation">
                        <mat-table [dataSource]="datasourceDesignation" class="mat-elevation-z8" style="padding: 20px;">
                          <ng-container matColumnDef="desCode">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Des Code </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.desCode}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="name">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 40%;"> Name </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 40%;"> {{element.name}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="from">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 20%;"> From </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 20%;"> {{element.from}} </mat-cell>
                          </ng-container>
    
                          <ng-container matColumnDef="to">
                            <mat-header-cell *matHeaderCellDef style="flex: 0 0 20%;"> To </mat-header-cell>
                            <mat-cell *matCellDef="let element" style="flex: 0 0 20%;"> {{element.to}} </mat-cell>
                          </ng-container>
    
                          <mat-header-row *matHeaderRowDef="displayColumnDesignation"></mat-header-row>
                          <mat-row *matRowDef="let row; columns: displayColumnDesignation;"></mat-row>
                        </mat-table>
    
                      </mat-tab>
                    </mat-tab-group>
                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                          justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Targets" color="warn" style="margin-top: 10px;">Back</button>
                  <button mat-raised-button matStepperNext matTooltip="Go to Letters" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>

          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Letters</ng-template>
                  <div fxFlex="100%" fxLayout="row" fxLayout.sm="column" fxLayout.xs="column"
                    fxLayoutWrap fxLayoutGap="0.5%" fxLayoutAlign="center" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                    <div fxFlex="30%">
                      <table>
                        <tr>
                          <th style="text-align: left;">Agengy Agreement</th>
                          <th>: </th>
                        </tr>
                        <tr>
                          <th style="text-align: left;">Inc.Supp.Agreement</th>
                          <th>: </th>
                        </tr>
                        <tr>
                          <th style="text-align: left;">Travel Allowance</th>
                          <th>: </th>
                        </tr>
                      </table>
                    </div>
                    <div fxFlex="30%">
                      <table>
                        <tr>
                          <th style="text-align: left;">Issued Date</th>
                          <th>: </th>
                        </tr>
                        <tr>
                          <th style="text-align: left;">Issued Date</th>
                          <th>: </th>
                        </tr>
                        <tr>
                          <th style="text-align: left;">Issued Date</th>
                          <th>: </th>
                        </tr>
                      </table>
                    </div>
                    <div fxFlex="30%">
                      <table>
                        <tr>
                          <th style="text-align: left;">Accepted Date</th>
                          <th>: </th>
                        </tr>
                        <tr>
                          <th style="text-align: left;">Accepted Date</th>
                          <th>: </th>
                        </tr>
                        <tr>
                          <th style="text-align: left;">Accepted Date</th>
                          <th>: </th>
                        </tr>
                      </table>
                    </div>
                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                        justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Hierarchy" color="warn" style="margin-top: 10px;">Back</button>
                  <button mat-raised-button matStepperNext matTooltip="Go to Education" color="primary" style="float: right;margin-top: 10px;">Next</button>
                </mat-card-actions>
              </mat-card>

          </mat-step>

          <mat-step>
              <mat-card>
                <mat-card-content style="max-height: 400px;overflow-x: auto;">
                  <ng-template matStepLabel>Education</ng-template>
                  <div fxFlex="100%" style="margin-bottom: 10px;max-height: 400px;overflow-x: auto;">
                    <mat-table [dataSource]="datasourceEducation" class="mat-elevation-z8" style="padding: 20px;">
                      <ng-container matColumnDef="qualification">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 15%;"> Qualification </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 15%;"> {{element.qualification}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="year">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 40%;"> Year </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 40%;"> {{element.year}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="grade">
                        <mat-header-cell *matHeaderCellDef style="flex: 0 0 10%;"> Grade </mat-header-cell>
                        <mat-cell *matCellDef="let element" style="flex: 0 0 10%;"> {{element.grade}} </mat-cell>
                      </ng-container>

                      <mat-header-row *matHeaderRowDef="displayColumnEducation"></mat-header-row>
                      <mat-row *matRowDef="let row; columns: displayColumnEducation;"></mat-row>
                    </mat-table>

                  </div>
                </mat-card-content>
                <mat-card-actions style="border-top: solid #C4C4C4 1px; display: flex; 
                                      justify-content: space-between;">
                  <button mat-raised-button matStepperPrevious matTooltip="Go to Letters" color="warn" style="margin-top: 10px;">Back</button>
                </mat-card-actions>
              </mat-card>
 
          </mat-step>

        </mat-horizontal-stepper>
      </mat-card-content>

    </mat-card>

  </div>

</div>